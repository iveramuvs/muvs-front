<template>
    <Toast />
    <section>
        <div class="hero-section-login1">
            <div class="container-login1">
                <div class="grid grid-nogutter">
                    <div class="col col-12 lg:col-6 md:col-12 left">
                        <img src="/src/assets/images/login-bg.png">
                    </div>
                    <div class="col col-12 lg:col-6 md:col-12 right ">
                        <div class="login-form">
                        <div class="div_centrado">
                            <svg xmlns="http://www.w3.org/2000/svg" width="250" height="auto" viewBox="0 0 135 33"
                                fill="none">
                                <g clip-path="url(#clip0_1605_2219)">
                                    <path
                                        d="M46.2793 26.7491C45.655 26.1258 45.3372 25.3659 45.3372 24.4636V8.0378C45.3372 7.07018 45.6897 6.2391 46.3891 5.54455C47.0885 4.85 47.9439 4.49976 48.9438 4.49976C49.9437 4.49976 50.8916 4.79657 51.6545 5.38427C52.4175 5.97196 53.0301 6.74962 53.4867 7.71724L57.8737 16.8948H58.1858L62.5727 7.71724C63.0293 6.74962 63.6419 5.97196 64.4049 5.38427C65.1678 4.79657 66.0695 4.49976 67.1156 4.49976C68.1618 4.49976 68.971 4.85 69.6703 5.54455C70.3697 6.24503 70.7223 7.07612 70.7223 8.0378V24.4577C70.7223 25.36 70.4102 26.1198 69.7802 26.7431C69.1501 27.3665 68.3699 27.6751 67.4278 27.6751C66.4856 27.6751 65.7054 27.3605 65.0753 26.7431C64.4511 26.1198 64.1332 25.36 64.1332 24.4577V17.5359H63.8211L61.6248 22.2078C61.1451 23.217 60.6306 23.9531 60.0873 24.4161C59.544 24.8791 58.8562 25.1107 58.0181 25.1107C57.1801 25.1107 56.4923 24.8791 55.949 24.4161C55.4057 23.9531 54.8913 23.217 54.4115 22.2078L52.2152 17.5359H51.9031V24.4577C51.9031 25.36 51.591 26.1198 50.961 26.7431C50.3309 27.3665 49.5507 27.6751 48.6086 27.6751C47.6664 27.6751 46.8862 27.3605 46.2562 26.7431L46.2793 26.7491Z"
                                        fill="#3C3C3B" />
                                    <path
                                        d="M77.7563 26.8619C76.2939 26.102 75.1727 25.0275 74.4039 23.6444C73.6294 22.2612 73.2422 20.6525 73.2422 18.83V7.71724C73.2422 6.81492 73.5543 6.05507 74.1843 5.43176C74.8143 4.80844 75.5946 4.49976 76.5367 4.49976C77.4788 4.49976 78.2591 4.81438 78.8891 5.43176C79.5133 6.05507 79.8312 6.81492 79.8312 7.71724V18.8241C79.8312 19.9164 80.1318 20.8128 80.7387 21.4954C81.3455 22.1841 82.0854 22.5284 82.9639 22.5284C83.8424 22.5284 84.5823 22.1841 85.1891 21.4954C85.796 20.8068 86.0966 19.9164 86.0966 18.8241V7.71724C86.0966 6.81492 86.4087 6.05507 87.0387 5.43176C87.6687 4.80844 88.449 4.49976 89.3911 4.49976C90.3332 4.49976 91.1135 4.81438 91.7435 5.43176C92.3735 6.05507 92.6856 6.81492 92.6856 7.71724V18.8241C92.6856 20.6465 92.2984 22.2553 91.5239 23.6385C90.7494 25.0216 89.6338 26.0961 88.1715 26.8559C86.7092 27.6158 84.9753 27.9957 82.9697 27.9957C80.9641 27.9957 79.2301 27.6158 77.7678 26.8559L77.7563 26.8619Z"
                                        fill="#3C3C3B" />
                                    <path
                                        d="M101.743 27.0695C100.968 26.4462 100.35 25.4726 99.8933 24.1369L94.6278 9.03494C94.4833 8.64908 94.4082 8.22166 94.4082 7.74676C94.4082 6.84443 94.703 6.07865 95.3041 5.44346C95.9052 4.80828 96.697 4.49365 97.7027 4.49365C98.6217 4.49365 99.3731 4.76079 99.9626 5.30099C100.546 5.83526 100.997 6.6426 101.309 7.71707L104.916 19.9518H105.228L108.835 7.71707C109.147 6.6426 109.598 5.8412 110.181 5.30099C110.765 4.76672 111.517 4.49365 112.436 4.49365C113.459 4.49365 114.262 4.81421 114.852 5.46127C115.435 6.10833 115.73 6.88005 115.73 7.78237C115.73 8.23353 115.655 8.64908 115.51 9.04087L110.245 24.1429C109.788 25.4726 109.17 26.4521 108.395 27.0754C107.621 27.6987 106.517 28.0074 105.072 28.0074C103.627 28.0074 102.523 27.6987 101.749 27.0754L101.743 27.0695Z"
                                        fill="#3C3C3B" />
                                    <path
                                        d="M121.568 27.5207C120.446 27.2002 119.493 26.749 118.701 26.1672C117.238 25.0928 116.504 23.9352 116.504 22.6886C116.504 21.7684 116.805 21.0264 117.412 20.4684C118.019 19.9104 118.811 19.6313 119.793 19.6313C120.232 19.6313 120.637 19.7145 121.018 19.8866C121.394 20.0588 121.833 20.3675 122.336 20.8186C122.92 21.3351 123.458 21.6912 123.949 21.899C124.44 22.1068 124.989 22.2077 125.596 22.2077C126.475 22.2077 127.139 22.0534 127.59 21.7387C128.041 21.4301 128.266 21.0442 128.266 20.593C128.266 20.1003 127.972 19.7085 127.388 19.4176C126.804 19.1268 125.862 18.8003 124.567 18.4381C123.018 17.987 121.741 17.5358 120.724 17.0847C119.712 16.6335 118.834 15.9627 118.088 15.0723C117.342 14.1818 116.978 13.0183 116.978 11.5758C116.978 10.1332 117.325 8.89255 118.03 7.77652C118.73 6.66049 119.764 5.78191 121.134 5.13486C122.504 4.4878 124.151 4.16724 126.07 4.16724C127.301 4.16724 128.457 4.32752 129.532 4.64808C130.607 4.96864 131.544 5.44355 132.341 6.06686C132.965 6.58332 133.462 7.1354 133.832 7.72309C134.197 8.31672 134.381 8.89848 134.381 9.48024C134.381 10.4004 134.075 11.1424 133.474 11.7004C132.867 12.2584 132.075 12.5374 131.093 12.5374C130.613 12.5374 130.174 12.4425 129.775 12.2466C129.376 12.0507 128.948 11.7301 128.492 11.2789C127.989 10.7862 127.538 10.4419 127.128 10.246C126.717 10.0561 126.215 9.95515 125.608 9.95515C125.001 9.95515 124.561 10.0857 124.226 10.341C123.891 10.5963 123.723 10.899 123.723 11.2433C123.723 11.736 124.018 12.1278 124.602 12.4187C125.186 12.7096 126.128 13.0361 127.423 13.3982C128.972 13.8494 130.249 14.3005 131.266 14.7517C132.283 15.2029 133.156 15.8737 133.902 16.7641C134.647 17.6546 135.017 18.8181 135.017 20.2606C135.017 21.7031 134.647 23.0685 133.902 24.2379C133.156 25.4074 132.046 26.3275 130.561 26.9924C129.076 27.6573 127.266 27.9897 125.139 27.9897C123.885 27.9897 122.7 27.8294 121.579 27.5088L121.568 27.5207Z"
                                        fill="#3C3C3B" />
                                    <path
                                        d="M7.80274 15.375H8.5888C9.29394 15.375 9.87193 15.9627 9.87193 16.6929V27.8175C9.87193 29.0523 8.89513 30.0615 7.68714 30.0615H7.63512C7.02246 30.0615 6.52539 29.5509 6.52539 28.9217V16.6929C6.52539 15.9686 7.0976 15.375 7.80852 15.375H7.80274Z"
                                        fill="#267D3C" />
                                    <path
                                        d="M4.94177 33C7.67104 33 9.88355 30.7276 9.88355 27.9244C9.88355 25.1213 7.67104 22.8489 4.94177 22.8489C2.21251 22.8489 0 25.1213 0 27.9244C0 30.7276 2.21251 33 4.94177 33Z"
                                        fill="#39A935" />
                                    <path
                                        d="M16.0737 4.5354H21.9691C22.4431 4.5354 22.8245 4.9272 22.8245 5.41398V28.061C22.8245 28.9812 22.0963 29.7291 21.2004 29.7291H16.0737C15.5997 29.7291 15.2183 29.3373 15.2183 28.8506V5.41398C15.2183 4.9272 15.5997 4.5354 16.0737 4.5354Z"
                                        fill="#267D3C" />
                                    <path
                                        d="M9.00187 12.0618L8.96182 12.0856C6.62033 13.474 5.81807 16.5492 7.16994 18.954L13.6549 30.4905C15.0068 32.8953 18.0009 33.7193 20.3424 32.3309L20.3824 32.3071C22.7239 30.9186 23.5262 27.8435 22.1743 25.4386L15.6893 13.9022C14.3374 11.4973 11.3434 10.6734 9.00187 12.0618Z"
                                        fill="#39A935" />
                                    <path
                                        d="M33.0145 21.7211C33.8989 21.7211 34.7369 21.9289 35.4999 22.2791L24.3968 2.52899C23.0385 0.112908 20.0272 -0.718176 17.6748 0.676858C15.3224 2.07189 14.519 5.15878 15.8773 7.57486L26.9977 27.3547C27.2983 24.1966 29.8645 21.7152 33.0145 21.7152V21.7211Z"
                                        fill="#39A935" />
                                    <path
                                        d="M37.5458 26.0487C37.517 25.9774 37.4881 25.9121 37.4534 25.8409C36.6789 24.0956 34.9738 22.8787 32.9855 22.8787C30.2748 22.8787 28.0669 25.1463 28.0669 27.9305C28.0669 28.9575 28.3674 29.9073 28.8819 30.7087C28.9108 30.7502 28.9397 30.7918 28.9685 30.8333C29.8586 32.1334 31.3267 32.9882 32.9855 32.9882C35.6963 32.9882 37.9042 30.7205 37.9042 27.9364C37.9042 27.2715 37.7713 26.6364 37.5401 26.0546L37.5458 26.0487ZM32.9855 29.9488C31.8989 29.9488 31.0204 29.0465 31.0204 27.9305C31.0204 26.8144 31.8989 25.9121 32.9855 25.9121C34.0722 25.9121 34.9507 26.8144 34.9507 27.9305C34.9507 29.0465 34.0722 29.9488 32.9855 29.9488Z"
                                        fill="#39A935" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_1605_2219">
                                        <rect width="135" height="33" fill="white" />
                                    </clipPath>
                                </defs>
                            </svg>

                            <div class="separator">
                                <h2>Inicia sesión en tu cuenta</h2>
                            </div>
                            <div class="separator">
                                <InputText id="user" value="user" type="text" placeholder="Usuario" />
                            </div>
                            <div class="separator">
                                <InputText id="password" value="password" type="password" placeholder="Contraseña" />
                            </div>
                            <div class="separator">
                                <Button class="btnlogin green" label="Continuar" size="large" @click="iniciarSesion" />
                            </div>

                        </div>
                    </div>
                    </div>
                </div>
                
            </div>
        </div>
    </section>
</template>

<script>
import InputText from 'primevue/inputtext';
import Button from 'primevue/button';
import router from '@/router';
import { useToast } from 'primevue/usetoast';
import Toast from 'primevue/toast';
import axios from 'axios';
export default {
  components: {
    InputText,
    Button,
    Toast
  },
  data() {
    return {
      user: '',
      password: ''
    }   
  },
  setup() {
    const toast = useToast();
    return { toast }
  },
  methods: {
    async iniciarSesion() {
      try {
        const response = await axios.post('URL_DE_TU_API/login', {
          username: this.user,
          password: this.password
        });
        
        if (response.data.success) {
          // Guardar el token de autenticación si es necesario
          // localStorage.setItem('token', response.data.token);
          
          this.toast.add({ severity: 'success', summary: 'Éxito', detail: 'Inicio de sesión exitoso', life: 3000 });
          
          // Redirigir al usuario a la página principal o dashboard
          router.push('/dashboard');
        } else {
          this.toast.add({ severity: 'error', summary: 'Error', detail: 'Credenciales inválidas', life: 3000 });
        }
      } catch (error) {
        console.error('Error al iniciar sesión:', error);
        this.toast.add({ severity: 'error', summary: 'Error', detail: 'Hubo un problema al iniciar sesión', life: 3000 });
      }
    }
  }
};

</script>

<style>

body {
    overflow-x: hidden;
    color: var(--text-color);
    height: 100vh;
    margin: 0 !important;
}

.hero-section-login {
    background-color: var(--secondary-color);
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    height: 100%;
    position: relative;
    overflow: hidden;
    margin-top: 0;
    background-color: #ffffff;
}

.container-login {
    display: grid;
    grid-template-columns: 1fr 1fr;
    height: 100vh;
}

.left {
    background-color: #f0f0f0;

}

.right {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #fff;
}

.login-form {
    max-width: 600px;
    width: 100%;
    padding: 20px;
    border-radius: 8px;
}

.login-form input {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.login-form button {
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 4px;
    font-size: 16px;
}

.green {
    background-color: #43C25F;
}

.txt-green {
    color: #43C25F !important;
}

h2 {
    font-size: 40px;
}

.div_centrado {
    justify-content: center;
    text-align: center;
    margin-bottom: 35px;
}

.separator{
margin-bottom: 35px;
}

@media screen and (max-width:990px) {
    .left {
        display: none;
    }

    h2 {
        margin-top: 30px;
    font-size: 30px;
}

}

</style>